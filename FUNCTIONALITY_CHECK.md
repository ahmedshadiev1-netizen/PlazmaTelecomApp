# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω

### –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

#### 1. **CI/CD Workflow** (`.github/workflows/build-android.yml`)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –¢–û–õ–¨–ö–û –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏
- ‚úÖ –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –¢–æ–ª—å–∫–æ —É–ª—É—á—à–∞–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫

#### 2. **Build Configuration** (`android/app/build.gradle`)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `hermesEnabled` (–¥–≤–∏–∂–æ–∫ JavaScript)
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
  - `namespace`: "ru.plazma.lk" ‚úÖ
  - `applicationId`: "ru.plazma.lk" ‚úÖ
  - `minifyEnabled`: false ‚úÖ
  - `shrinkResources`: false ‚úÖ
  - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã ‚úÖ

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

#### **–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- ‚úÖ `App.tsx` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ª—É–≥
  - –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  - –û–±–µ—â–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏

#### **–°–µ—Ä–≤–∏—Å—ã:**
- ‚úÖ `ApiService.ts` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
  - `login()` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - `getContracts()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
  - `getAccounts()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
  - `getAccountPeriodicServices()` - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏
  - `activatePromisePayment()` - –æ–±–µ—â–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏

- ‚úÖ `NotificationService.ts` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
  - Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ `LoginModal.tsx` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
- ‚úÖ `AmountPromptModal.tsx` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
- ‚úÖ `PeriodicServicesModal.tsx` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**

#### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- ‚úÖ `package.json` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
  - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
  - –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

- ‚úÖ `app.json` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Expo
  - –ò–∫–æ–Ω–∫–∏ –∏ splash screen

- ‚úÖ `android/app/src/main/AndroidManifest.xml` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
  - –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- ‚úÖ `android/app/src/main/java/ru/plazma/lk/MainActivity.java` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**
- ‚úÖ `android/app/src/main/java/ru/plazma/lk/MainApplication.java` - **–ù–ï –ò–ó–ú–ï–ù–Ø–õ–°–Ø**

### üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ build.gradle:

**–î–û:**
```gradle
if (hermesEnabled.toBoolean()) {
    implementation("com.facebook.react:hermes-android")
} else {
    implementation jscFlavor
}
```

**–ü–û–°–õ–ï:**
```gradle
// Use hermesEnabled from gradle.properties (defaults to true)
def hermesEnabled = findProperty('hermesEnabled') ?: "true"
if (hermesEnabled.toBoolean()) {
    implementation("com.facebook.react:hermes-android")
} else {
    implementation jscFlavor
}
```

**–í–ª–∏—è–Ω–∏–µ:** ‚úÖ –ù–ò–ö–ê–ö–û–ì–û - —ç—Ç–æ —Ç–æ–ª—å–∫–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ —á—Ç–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Å—Ç–∞–µ—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–º.

### üéØ –ò—Ç–æ–≥:

**100% —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω!**

- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏ (CI/CD)

### üìù –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ:

1. **CI/CD Workflow:**
   - –õ—É—á—à–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
   - –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ keystore
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

2. **Build Configuration:**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ —Å `hermesEnabled`
   - –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–í—ã–≤–æ–¥:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **–ù–ï –ó–ê–¢–†–û–ù–£–¢**, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞—Å–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–±–æ—Ä–∫–∏ –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

